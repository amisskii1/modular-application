name: Upload Java custom JRE

on:
    push:
        branches: [master]
        
jobs: 
    build:
        runs-on: windows-latest
        
        
        steps:
        - name: Checkout code
          uses: actions/checkout@v4
            
        - name: Install the JDK
          uses: actions/setup-java@v4
          with: 
            java-version: '21'
            distribution: 'temurin'
            architecture: x64
                
        - name: Check file system
          run: ls 
                    
        - name: Build jar packages with Maven
          run: mvn -B package --file pom.xml
          working-directory: .
        
        - name: Move all jars to the modules directory
          run: move todolist.dao/target/todolist.dao-1.0-SNAPSHOT.jar modules/todolist.dao.jar
        
        - run: move todolist.dao/target/todolist.gui-1.0-SNAPSHOT.jar modules/todolist.gui.jar
        
        - run: move todolist.dao/target/todolist.license-1.0-SNAPSHOT.jar modules/todolist.license.jar
         
        - run: move todolist.dao/target/todolist.models-1.0-SNAPSHOT.jar modules/todolist.models.jar
          
        - run: move todolist.dao/target/todolist.updater-1.0-SNAPSHOT.jar modules/todolist.updater.jar
        
        - run: move todolist.dao/target/todolist.utils-1.0-SNAPSHOT.jar modules/todolist.utils.jar
        
        - name: check modules dir 
          run: ls ./modules/
          

            
